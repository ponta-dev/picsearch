/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.4.2/userguide/building_java_projects.html
 */

plugins {
	id 'org.springframework.boot' version "${ver_spring_boot}"
	id 'java'
	id 'war'
	id 'jacoco'
}

compileJava.options.encoding = 'UTF-8'
compileTestJava.options.encoding = 'UTF-8'

group = 'com.github.pontadev'
version = '1.0.0'
sourceCompatibility = '17'
targetCompatibility = '17'

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

dependencies {
    // web
    implementation  "org.springframework.boot:spring-boot-starter-web:${ver_spring_boot}"
    providedRuntime "org.springframework.boot:spring-boot-starter-tomcat:${ver_spring_boot}"
    // util
    implementation  "org.springframework.boot:spring-boot-starter-actuator:${ver_spring_boot}"
    implementation  "org.springframework.boot:spring-boot-starter-validation:${ver_spring_boot}"
    implementation  "org.springframework.boot:spring-boot-starter-aop:${ver_spring_boot}"
    // database
    implementation  "org.springframework.boot:spring-boot-starter-jdbc:${ver_spring_boot}"
    implementation  "org.mybatis.spring.boot:mybatis-spring-boot-starter:${ver_mybatis}"
    providedRuntime "com.h2database:h2:${ver_h2}"
    // security
    implementation  "org.springframework.boot:spring-boot-starter-security:${ver_spring_boot}"

    // test
    testImplementation  "org.springframework.boot:spring-boot-starter-test:${ver_spring_boot}"
    testImplementation  "org.mybatis.spring.boot:mybatis-spring-boot-starter-test:${ver_mybatis}"
    testImplementation  "org.junit.jupiter:junit-jupiter-api:${ver_junit}"
    testRuntimeOnly     "org.junit.jupiter:junit-jupiter-engine:${ver_junit}"
}

test {
    useJUnitPlatform {
        includeEngines 'junit-jupiter'
    }
    finalizedBy jacocoTestReport
}

jacocoTestReport {
    dependsOn test
}
